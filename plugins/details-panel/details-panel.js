window.plugins=window.plugins||{},window.plugins.detailsPanel=class{buttonPanel=null;translations={"en-CA":{detailsPanel:"Details",nothing_found:"Nothing found"},"fr-CA":{detailsPanel:"Détails",nothing_found:"Aucun résultat"}};added=()=>{const{api:t,react:e,makeStyles:n,translate:a}=this,{mapId:i}=this.props,o=this.createElement,{useState:l,useEffect:s}=e,{useTranslation:r}=a,{language:c}=t.map(i),p=n((t=>({mainContainer:{},container:{margin:"0 0 10px 0"},accordion:{backgroundColor:"#eee",color:"#444",cursor:"pointer",padding:"18px",width:"-webkit-fill-available",border:"none",textAlign:"left",outline:"none",fontSize:"15px",transition:"0.4s","&:hover":{backgroundColor:"#ccc"},"&:after":{content:"+",color:"#777",fontWeight:"bold",float:"right",marginLeft:"5px"}},active:{backgroundColor:"#ccc","&:after":{content:"−"}},panel:{padding:"0 18px",backgroundColor:"white",maxHeight:0,overflow:"hidden",transition:"max-height 0.2s ease-out"}}))),d={tooltip:this.translations[c].detailsPanel,icon:'<i class="material-icons">details</i>'},g={title:this.translations[c].detailsPanel,icon:'<i class="material-icons">details</i>',content:()=>{const[e,n]=l([]),a=p(),{t:c}=r(),d=t.map(i).map;return s((()=>{const{layers:e}=t.map(i);d.on("click",(t=>{e.forEach((e=>{"ogcWMS"!==e.type&&"geoJSON"!==e.type&&e.layer.identify().on(d).at(t.latlng).run(((t,e)=>{t&&console.log(t),n(e.features),this.buttonPanel.panel.open()}))}))}))}),[]),o("div",{className:a.mainContainer},e.length>0?o("div",{},e.map((t=>{const e=t.properties;return o("div",{key:e.OBJECTID,className:a.container},o("button",{className:a.accordion,onClick:t=>{t.target.classList.toggle("active");const e=t.target.nextElementSibling;e.style.maxHeight?e.style.maxHeight=null:e.style.maxHeight=`${e.scrollHeight}px`}},e["Project name"]),o("div",{className:a.panel},o("div",{},Object.keys(e).map(((t,n)=>"OBJECTID"!==t&&"Shape"!==t?o("p",{key:n},`${t}: ${e[t]}`):null)))))}))):o("p",{},c("nothing_found")))},width:300};this.buttonPanel=t.map(i).createAppbarPanel(d,g,null)};removed=()=>{const{mapId:t}=this.props;this.api.map(t).removeAppbarPanel(this.buttonPanel.id)}};